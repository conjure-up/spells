services:
  filebeat:
    charm: cs:xenial/filebeat
  elasticsearch:
    charm: cs:xenial/elasticsearch
    num_units: 1
  graylog:
    charm: cs:~graylog-charmers/graylog
    num_units: 1
    expose: true
  mongodb:
    charm: cs:mongodb
    num_units: 1
relations:
  - ["graylog:elasticsearch", "elasticsearch:client"]
  - ["graylog:mongodb", "mongodb:database"]
  - ["filebeat:elasticsearch", "elasticsearch:client"]
  - ["filebeat:beats-host", "spark:juju-info"]
