services:
  filebeat:
    charm: cs:xenial/filebeat
  elasticsearch:
    charm: cs:xenial/elasticsearch
    num_units: 1
    options:
      firewall_enabled: false
  graylog:
    charm: cs:xenial/graylog
    num_units: 1
    expose: true
  mongodb:
    charm: cs:xenial/mongodb
    num_units: 1
relations:
  - ["graylog:elasticsearch", "elasticsearch:client"]
  - ["graylog:mongodb", "mongodb:database"]
  - ["filebeat:elasticsearch", "elasticsearch:client"]
  - ["filebeat:beats-host", "spark:juju-info"]
  - ["filebeat:beats-host", "zookeeper:juju-info"]
